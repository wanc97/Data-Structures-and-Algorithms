# 组合数据结构

## Trie

* 前缀树就是将字符串按照前缀整合起来，形成一棵树，插入和遍历的过程都是从树的根节点向下遍历的过程；
* 前缀树每一个节点存储元素通过哈希方式记录；因为每个节点记录单个元素，所以可以通过比较容易的方式实现哈希，如果只有英文字符可以使用ASCII码关系进行对应；
* 优势：
  * 适合前缀匹配场景，如搜索匹配、自动补全等；
  * 可以快速在大量字符串中插入、查询、匹配、计数等等
* 缺点：
  * 如果查询的字符集过大，会使得存储空间浪费；
  * 如果字符串前缀重合度小，也会造成空间浪费；
  * 指针对缓存不友好

**AC自动机**

* 快速在主串中查找字符串，适合敏感词过滤场景；
* AC自动机-Trie树=KMP-BF
* KMP通过next数组记录匹配失败时指针跳转的位置，AC自动机通过失败指针记录匹配失败时跳转的位置，一般效率极高；

## 缓存结构

* LRU：缓存满时删除最旧的，快速查找需要用到哈希，时间排序用到（双向）链表；
* LFU：缓存满时删除访问频率最低的中最旧的，快速查找、记录每个缓存的访问次数、每个访问次数对应的缓存以及对应顺序的LRU需要用到3/4个哈希，每一个访问次数内用双向链表记录顺序；
* 平均$O(1)$时间插入，删除，随机返回一个元素：随机返回可以用数组+随机数实现，插入删除可以将被删元素移到数组结尾，用哈希表记录元素索引；
